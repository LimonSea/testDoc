function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}export function filterText(e,n){const t=e.cloneNode(!0);return n&&t.querySelectorAll(n).forEach(e=>e.remove()),t.innerText}export function formatCopyText(e,n,t=!1,o=!0,r=!0,s=!0,c="",p=""){var u,i,h=!!c,l=!!p;u=t?new RegExp("^("+n+")(.*)"):new RegExp("^("+escapeRegExp(n)+")(.*)");const x=[];var a=!1,f=!1,g=!1;const m=[];for(const n of e.split("\n"))(i=n.match(u))||f||g?(a=u.test(n),m.push(a),r&&a?x.push(i[2]):x.push(n),f=n.endsWith(c)&h,n.includes(p)&l&&(g=!g)):o?s&&""===n.trim()&&x.push(n):x.push(n);return m.some(e=>!0===e)&&(e=x.join("\n")),e.endsWith("\n")&&(e=e.slice(0,-1)),e}